# Remote Print 프로젝트 기획서

생성자: 최은택
생성 일시: 2023년 7월 17일 오후 6:05

## 참여자

| 이름 | 소속 | 역할 |
| --- | --- | --- |
| 최은택 | 응용소프트웨어전공 | 웹 서비스 전체 개발(프론트, 백엔드) |
| 장소윤 | 응용소프트웨어전공 | 제어 프로그램 전체 개발(프론트, 백엔드) |

## 개발 환경 및 언어

### 웹 서비스

**개발환경 :** **Visual Studio**

**프레임워크 : DJango**

**사용 언어 : Python, html, css, js**

### 제어 프로그램

**개발환경 :** ****Eclipse****

**프레임워크 : Java Swing**

**언어 : java**

# 목차

1. 프로젝트 개요
    1. 프로젝트 개요
    2. 충족되어야 하는 목표
    3. 작성 책임자 식별
    4. 달성 대상의 목표와 범위
    5. 제약사항 또는 위험
2. 프로젝트 수행 작업
    1. 요약
    2. 기능 충족 체크리스트
    3. 프로젝트 웹 서비스
        1. 프론트
        2. 백엔드
    4. 일정
3. 계획 목표를 달성하기 위한 자원
4. 팀 구성원 및 역할
    1. 세부 기능 구현 역할 

---

# 1) 프로젝트 개요

## 프로젝트 개요

---

 기존에는 문서나 파일을 프린트하기 위해서는 프린터가 설치된 장소에 직접 방문하거나 프린트 카페 등을 찾아가야 하는 등의 불편함이 존재하고 파일의 개수가 많아질 수록 그 작업의 피로도가 증가하기 때문에, 이를 자동화하기 위한 프린터기 제어 프로그램을 만들고자 한다. 

 remote-print 프로젝트는 이러한 번거로움을 해결하기 위해 웹 서비스와 자동화 웹 애플리케이션을 활용하여 사용자가 어디에서나 파일을 등록하면 즉시 원격으로 프린트할 수 있는 시스템을 구축한다. 이를 통해 이용자들의 편의를 증대시키고 시간절약을 가능케한다.

## 충족되어야 하는 목표

---

이 프로젝트의 주요 목표는 다음과 같습니다.

1. **시간과 장소의 제약 극복:** 기존에는 프린터가 있는 장소에 직접 방문해야 했던 불편함을 해소합니다. 사용자는 이제 어디에서든지 인터넷을 통해 파일을 업로드하고 프린트 작업을 예약할 수 있습니다.
2. **사용자 편의성 증대:** 사용자는 웹 서비스를 통해 파일을 간편하게 업로드할 수 있을 뿐만 아니라 프린트 설정을 조정하고 필요한 경우 예약도 할 수 있습니다. 이 모든 과정을 사용자 친화적인 인터페이스를 통해 원활하게 처리합니다.
3. **자동화된 웹 애플리케이션:** 원격 프린트를 위한 자동화된 웹 애플리케이션을 개발하여, 사용자가 업로드한 파일을 프린터로 전송하는 작업을 자동으로 처리합니다. 이를 통해 사용자는 별다른 기술적 지식 없이도 쉽게 프린트 작업을 수행할 수 있습니다.
4. **연결된 시스템:** 프로젝트는 두 가지 주요 요소로 이루어져 있습니다. 첫 번째는 파일 업로드, 설정 조정, 예약 등을 담당하는 웹 서비스입니다. 두 번째는 자동화된 프린트 작업을 수행하는 웹 애플리케이션입니다. 이 두 시스템이 원활하게 연동하여 사용자의 요청을 빠르고 정확하게 처리합니다.

"remote-print" 프로젝트는 이러한 목표를 통해 사용자들에게 시간 절약과 편의성을 제공하며, 디지털 시대의 요구에 부응하는 혁신적인 솔루션을 제공합니다.

## 달성 대상의 목표와 범위

---

### 달성 대상의 목표

프로젝트의 핵심 목표는 사용자들에게 프린트 작업을 편리하게 제공함으로써 시간과 노력을 절약하는 것입니다. 사용자는 어떤 위치에서든 파일을 업로드하고 프린트 설정을 조정하며 필요한 경우 예약을 할 수 있어야 합니다.

사용자가 파일을 업로드하면, 이를 자동으로 프린트용 웹 애플리케이션으로 전송하여 프린트 작업을 처리합니다. 이를 통해 사용자는 별다른 개입 없이도 편리하게 프린트 작업을 완료할 수 있어야 합니다.

웹 서비스와 웹 애플리케이션 간의 원활한 연결과 데이터 전송을 보장하여 사용자의 요청이 정확하고 빠르게 처리되도록 해야 합니다. 또한 프린트 작업의 정확성과 신뢰성을 유지해야 합니다.

- 지정된 경로 내의 모든 파일을 프린터기로 출력하도록 구현
- 각 출력물을 구분할 수 있도록 사용자 정보를 담은 표지 제작 구현
- 작업 과정 로그 관리 구현
- 작업 과정에서 오류 발생시 지정 주소로 메일 전송 구현

### 목표 및 범위

목표로하는 프로젝트는 다음과 같다.

- 경로 지정 기능
    - 출력할 파일이 있는 경로를 지정한다.
    - 경로를 수정할 때 마다 해당 경로를 기본값으로 지정한다.
- 지정경로 내의 파일 출력 기능
    - 지정 경로 폴더 내의 파일 목록을 프로그램 내로 읽어온다.
    - 출력을 시작하면, 불러온 파일목록을 모두 출력한다.
- 파일 목록 열람/추가/삭제/수정 기능
    - 지정경로 외에 있는 파일도 추가할 수 있다.
    - 파일 목록에 있는 파일을  삭제할 수 있다. (실제 경로의 파일은 삭제되지 않으며, 인쇄 대기열에서만 삭제된다.)
    - 파일 목록에서 흑백/컬러 지정을 할 수 있다.
    - 파일 목록을 페이지 형으로 열람 가능하다.
- 표지 제작 기능
    - 제공받은 csv파일과 출력파일을 매칭시켜 표지를 제작한다
    - 표지에 담을 내용을 선택할 수 있다
- 로그파일 생성 / 열람 기능
    - 각 파일이 출력될 때 마다 해당 파일의 정보와 작업상태를 저장하는 로그파일을 생성한다
    - 프로그램 내에서 해당 로그를 열람할 수 있으며, 검색이 가능하다.
- 메일 전송 기능
    - 메일을 전송받을 주소를 여러개 지정할 수 있다.
    - 이전에 지정한 메일주소는 기본값으로 저장된다.
    - 작업상태가 비정상적이거나, 프린터기에 문제가 생기면 메일로 로그파일을 발송한다.
- 사용자 지원 및 문서화
    - 사용자들이 웹 서비스와 웹 애플리케이션을 원활하게 이용할 수 있도록 사용자 가이드나 도움말을 제공하고, 필요한 경우 기술 지원을 제공

## 제약사항 또는 위험

---

웹 사이트에서 이용자가 결제를 하는 부분에 있어 보안과 환불에 대한 제약사항 및 위험이 존재한다.

동시에 프린트하여 출력물로 상품을 제공하는 서비스이기에 출력물에 이상이 생길 수 있는 위험이 존재한다.

1. 결제와 환불의 경우
    1. 일정 시간 이후 자동화 시스템으로 웹 사이트 제한 및 파일을 폴더화 하여 출력 진행으로 인한 결제 서비스 마비의 가능성
    2. 사물함의 개수 또는 준비된 600장의 페이지가 모두 매진되었을 때 동시 결제가 일어나는 경우
2. 출력물 이상의 경우
    1. 고객이 요청한 시간 내에 파일을 제공하지 못했을 경우
    2. 출력물의 인쇄 상태가 올바르지 않는 경우
        1. 출력물 잉크가 눌러붙은 경우
        2. 출력물이 흐릿한 경우
    3. 출력물 총 매수 및 상태의 문제
        1. 고객이 요청한 파일의 일부가 누락된 경우
        2. 고객의 파일에 다른 고객의 파일이 섞였을 경우
    4. 사물함 비밀번호 설정의 문제
        1. 이용자가 설정한 비밀번호가 아닌 잘못된 비밀번호로 설정되어 출력물을 찾아가지 못하는 경우

⇒ 결제와 환불의 위험의 경우 동시 접속 및 동시 결제에 대한 부분을 고려하여 결제 api를 세밀하게 적용할 필요가 있음 

⇒ 출력물의 이상으로 인한 위험의 경우 원금 환불(부분, 전액)에 대한 결제 이용 약관을 토대로 처리한다.


# 2) 프로젝트 수행 작업

## 요약

---

**개발환경** : **Visual Studio**

**사용할 언어** : **Python, Html, css, js**

**사용할 프레임 워크** : **Django**

## 프로젝트 웹 서비스

---

### 프론트

1. 메인 페이지
    1. 결제내역, 프린트, 마이페이지, 로그인, 회원가입 페이지로 넘어가는 url 패턴 구성
2. 프린트 페이지
    1. 출력할 파일 등록 기능 및 csrf토큰 관리 & 주문 정보를 백엔드로 전달
3. 결제 페이지
    1. 토스 페이먼츠 api를 기반 url패턴 구성
4. 마이페이지
    1. 로그인된 해당 유저의 정보를 백엔드로 부터 넘겨받아 정보를 출력
5. 결제 내역 페이지
    1. 결제된 주문에 대한 정보와 수령 정보를 출력
6. 로그인 페이지
7. 회원가입 페이지
    1. 해당 유저의 정보를 기반 백엔드로 전달

⇒ html, css js 사용

### 백엔드

1. ERD 기반 모델 생성
    1. User, Order, OrderFile
2. 자동화 기능
    1. 작업 스케줄러를 이용하여 command파일을 통한 파이썬 코드 자동 실행
3. 인증, 권한 기능
    1. 장고 form을 통해 유저의 로그인, 로그아웃, 회원가입에 대한 데이터 관리 및 유효성 검사
4. pdf파일 페이지 수 계산 기능
    1. 외부 라이브러리 **poppler-pdfinfo** 를 사용하여 페이지 수 계산 및 이를 기반으로 금액 책정 후 결제 페이지로 연결
5. 결제 기능
    1. 토스 페이먼츠 결제 api연결 및 구현 

⇒ python, Django, poppler, toss api 사용

## 기능 충족 체크리스트

---

### remote-print 웹 서비스

- [ ]  메인페이지
    - [ ]  이용약관 페이지
    - [ ]  Q&A페이지
    - [ ]  preprint소개 페이지
    - [ ]  결제내역 페이지
    - [ ]  마이페이지
- [ ]  결제내역 페이지
    - [ ]  해당 계정으로 주문한 주문 내역 및 수령 정보를 출력
    - [ ]  해당 주문의 정보 출력 및 파일 표출
    - [ ]  취소 버튼 기능
        - [ ]  예약일 기준 5분 이상일 경우 취소 가능
- [ ]  프린트 디테일 페이지
    - [ ]  mutifle 파일 첨부 기능
    - [ ]  컬러/흑백 선택 기능
    - [ ]  요청사항 설정 기능
    - [ ]  날짜 설정 기능
    - [ ]  시간 설정 기능
- [ ]  마이페이지 페이지
    - [ ]  해당 로그인된 유저의 정보 출력
- [ ]  결제 페이지
    - [ ]  해당 파일들의 장수를 파악(poppler외부 모듈 사용)하여 해당 매수를 기준 금액 책정
    - [ ]  토스 페이먼츠 결제 api연동
- [ ]  로그인 페이지
    - [ ]  장고 form을 통해 유효성 검사 및 로그인
- [ ]  회원가입 페이지
    - [ ]  장고 form을 통한 유효성 검사 및 User모델 데이터 추가
- [ ]  자동화 부분
    - [ ]  윈도우 작업 스케줄러에 장고 프로젝트 연결
    - [ ]  장고 프로젝트 내 command파일 생성 및 데이터 관리 기능 코드 작성

### remote-print 프린트 프로그램

- [ ]  UI 구현
    - [ ]  메뉴바
        - [ ]  프로그램 창 사이즈
    - [ ]  사이드패널
        - [ ]  홈메뉴
        - [ ]  프린터기 설정 메뉴
        - [ ]  로그조회 및 설정 메뉴
    - [ ]  콘텐츠패널
        - [ ]  파일등록 및 파일정보 조회 섹션
            - [ ]  컬러/흑백 전환 버튼
            - [ ]  선택 삭제 버튼
            - [ ]  파일 추가 버튼
            - [ ]  워크스페이스 버튼
            - [ ]  페이지 넘기기 버튼
        - [ ]  작업설정 섹션
            - [ ]  프린터기 선택 버튼
            - [ ]  선택된 프린터기 정보 조회 패널
            - [ ]  메일 주소 입력 칸
            - [ ]  메일 내용 수정 칸
        - [ ]  표지설정 섹션
            - [ ]  체크리스트 형 표지 출력항목
            - [ ]  표지 미리보기
            - [ ]  확인(저장)버튼
        - [ ]  제어 섹션
            - [ ]  작업 시작 버튼
            - [ ]  작업중단 버튼
    - [ ]  기능구현
        - [ ]  메뉴바
            - [ ]  프로그램 창 사이즈 조절
            - [ ]  프로그램 창 다크모드/화이트모드 설정
            - [ ]  프로그램 언어 설정
        - [ ]  사이드패널
            - [ ]  홈메뉴 클릭시 홈 페이지로 이동
            - [ ]  프린터기 설정 메뉴
                - [ ]  클릭시 프린터기 설정 페이지로 이동
                - [ ]  파일등록 및 파일정보 조회
                    - [ ]  파일등록 기능
                    - [ ]  등록된 파일 조회 기능
                    - [ ]  파일삭제 기능
                    - [ ]  페이지 넘기기 기능
                    - [ ]  워크스페이스 지정 기능
                - [ ]  작업설정
                    - [ ]  연결된 프린터기 중 사용할 프린터기 선택 기능(라이브러리 사용예정)
                    - [ ]  선택된 프린터기 조회 기능(라이브러리 사용예정)
                    - [ ]  로그를 전송할 메일 주소 입력란 및 저장 기능
                    - [ ]  메일 전송기능(API사용예정)
                - [ ]  표지설정
                    - [ ]  체크리스트형 표지 출력항목 선택 기능
                    - [ ]  표지 미리보기 기능
                    - [ ]  표지설정 저장 기능
                - [ ]  제어
                    - [ ]  작업시작기능(라이브러리 사용예정)
                    - [ ]  작업중단기능(라이브러리 사용예정)
            - [ ]  로그조회 및 설정 메뉴
                - [ ]  클릭시 로그조회 및 설정 페이지로 이동

## 일정

---

### remote-print 웹 서비스 일정

| 개발구분 | 기간 | 세부사항  |
| --- | --- | --- |
| ERD 설계 & 피그마 UX/UI 제작  | 07/18~7/22 | UI 디자인 및 ERD 설계 |
| 데이터베이스 생성 및 파일 세팅 | 07/23 | ERD 기반 모델 생성 및 장고 프로젝트 구조 설계, 세팅 |
| media설정 & 파일 업로드, 다운로드 기능 구현 + ERD, 모델 수정 | 07/23~07/25 | 전체 ERD 수정 및 파일 업로드 기능 구현, 미디어 설정 |
| form사용 및 user모델 생성, 로그인+로그아웃 & 회원가입 기능 구현 | 7/25~7/28 | 유저 모델 생성 및 로그인, 로그아웃, 회원가입 기능 구현 |
| .gitignore 설정 & 데이터 분리 | 8/2~8/3 | settings관련 민감한 정보 분리, 깃이그노어 설정  |
| pdf파일 페이지 계산(PyPDF2) & 마이페이지, 주문 상세 페이지 구현 | 8/5 | PyPDF2 라이브러리와 장고 내부 모듈로 페이지 계산, 마이페이지, 주문 상세 페이지 구현  |
| 작업 스케줄러 설정 및 커맨드 파일 생성, 장고 프로젝트 설정 | 8/6 | 일정 시간마다 모델 데이터 삭제 및 주문 정보 및 파일 폴더화 기능 구현  |
| pre-print 7개 페이지 프론트 작업 | 8/7~8/10 | html,css, js 로 프론트 작업  |
| poppler-pdfinfo을 사용하여 pdf 페이지 수 계산 | 8-10~8-12 | 외부 라이브러리를 이용하여 위험 요소 제거  |
| 작업 스케줄러 command 파일 기능 추가 & 데이터 유효성 검사 & 프론트 추가 작업 | 8-16~8-17 | 저장된 이전 데이터들을 모두 삭제 후 저장되도록 코드 수정 & 파일, pw 정보 입력하지 않을 시 다음 결제페이지 진입 안되도록 수정(유효성 검사) -> pw가 숫자가 아닐 경우 4자리 수가 아닐 경우 다음 단계 진입 제한 |

### remote-print 프린트 프로그램

---

| 개발구분 | 기간 | 일정 |
| --- | --- | --- |
| 설계 | ~8/12 | 전체 아키텍처 설계 |
| 디자인 | ~8/12 | UI 디자인 |
| 개발 | ~8/15
~8/20 | - MVP 개발
- MVP 제외 개발 및 테스트 |

# 3) 계획 목표를 달성하기 위한 자원

1. aws 배포 및 이용 비용
2. aws이용하지 않을 경우 관리 서버 컴퓨터 비용
3. 유지보수 비용
4. 개발자
    
    프로그램 개발을 할 개발자가 필요하다
    
5. 개발툴
    
    IDE 중 Eclipse를 이용할 예정이다.
    
6. 프린터기
    
    테스트 용 프린터기가 필요하다.
    

# 4) 팀 구성원 및 역할/전환

## 세부 기능 구현 역할

### 웹 서비스-최은택

| 기능 | 프론트엔드 | 백엔드 | 개발자 |
| --- | --- | --- | --- |
| 피그마 UX/UI | 피그마 UX/UI 제작 | x | 최은택 |
| Entity Relationship Diagram 제작 | x | 이를 기반으로 모델 생성 | 최은택 |
| 로그인, 회원가입, 로그아웃 기능  | 로그인 페이지, 회원가입 페이지, 로그아웃 버튼 프론트 작업 | user 모델 생성, 장고 form 사용, 데이터 유효성 검사 및 모델 저장 | 최은택 |
| 프린트 상세 설정 기능  | 프린트 디테일 페이지, 결제내역 페이지 form 형성, 데이터 전달, 프론트 작업  | 프린트할 파일, 색상, 요청사항, 날짜, 시간 정보를 Post요청으로 받아온 데이터를 데이터 유효성 검사 및 모델에 데이터 저장 | 최은택 |
| 마이페이지 기능 | 고객번호, 이름, 이메일, 전화번호 정보 표출 → 마이페이지 프론트 작업  | 현재 로그인된 인증 유저의 데이터를 context로 넘겨 프론트와 연결  | 최은택 |
| 주문내역 기능  | 예약된 주문 갯수 출력, 주문 번호 출력, 날짜 출력, 프린트 상세 정보 및 파일 출력  | 로그인된 해당 유저의 주문행을 가져와 출력 | 최은택 |
| 주문내역 삭제 기능  | 주문 취소 버튼 form 생성 | 주문된 날짜와 현재 시간의 차를 구하여 5분 이상일 경우에 삭제를 허용 | 최은택 |
| 작업 스케줄러 기능  | x | command파일을 생성하고 이를 작업스케줄러에 경로로 연결하여 일정시간마다 자동화 시스템이 운영되도록 개발 | 최은택 |
| Poppler pdf 페이지 개수 파악  | x | 외부 라이브러리 Poppler 및 내부 모듈을 사용하여 여러 pdf의 페이지 수를 파악  | 최은택 |

### 프로그램-장소윤

| 이름 | 소개 | 역할 및 담당 |
| --- | --- | --- |
| 장소윤 | 응용소프트웨어 2학년 재학 | 제어프로그램 전체 개발 |